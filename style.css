/* Fade-in on scroll */
const io=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){e.target.classList.add('show');io.unobserve(e.target);}
  });
},{threshold:.15});
document.querySelectorAll('.fade').forEach(el=>io.observe(el));

/* Smooth scroll for in-page links */
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click',e=>{
    const tgt=document.querySelector(a.getAttribute('href'));
    if(tgt){e.preventDefault();tgt.scrollIntoView({behavior:'smooth'});}
  });
});

/* Mailto form handler */
const form=document.querySelector('.contact');
if(form){
  form.addEventListener('submit',e=>{
    e.preventDefault();
    const f=new FormData(form);
    const subj=`${f.get('topic')||'General'} inquiry â€” ${f.get('name')}`;
    const body=`Name: ${f.get('name')}\nEmail: ${f.get('email')}\nTopic: ${f.get('topic')}\n\n${f.get('msg')}`;
    window.location=`mailto:siglosdexterlloyd85@gmail.com?subject=${encodeURIComponent(subj)}&body=${encodeURIComponent(body)}`;
  });
}
